<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="noindex, nofollow"><title>(Hu)go Template Primer | Hugo Test</title><meta name=keywords content="go,golang,templates,themes,development"><meta name=description content="Hugo uses the excellent Go html/template library for
its template engine. It is an extremely lightweight engine that provides a very
small amount of logic. In our experience that it is just the right amount of
logic to be able to create a good static website. If you have used other
template systems from different languages or frameworks you will find a lot of
similarities in Go templates."><meta name=author content><link rel=canonical href=https://polarhardboiled.github.io/hugotest/news/goisforlovers/><link href=https://polarhardboiled.github.io/hugotest/assets/css/stylesheet.min.c747137dbc6318e57087bf41affe88d786d270168784c6950ebb1f280c6f7313.css integrity="sha256-x0cTfbxjGOVwh79Br/6I14bScBaHhMaVDrsfKAxvcxM=" rel="preload stylesheet" as=style><link rel=icon href=https://polarhardboiled.github.io/hugotest/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://polarhardboiled.github.io/hugotest/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://polarhardboiled.github.io/hugotest/favicon-32x32.png><link rel=apple-touch-icon href=https://polarhardboiled.github.io/hugotest/apple-touch-icon.png><link rel=mask-icon href=https://polarhardboiled.github.io/hugotest/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><meta name=generator content="Hugo 0.78.2"></head><body class=single id=top><script>if(localStorage.getItem("pref-theme")==="dark"){document.body.classList.add('dark');}else if(localStorage.getItem("pref-theme")==="light"){document.body.classList.remove('dark')}else if(window.matchMedia('(prefers-color-scheme: dark)').matches){document.body.classList.add('dark');}</script><noscript><style type=text/css>.theme-toggle,.top-link{display:none}</style></noscript><header class=header><nav class=nav><div class=logo><a href=https://polarhardboiled.github.io/hugotest accesskey=h>Hugo Test</a>
<span class=logo-switches><span class=theme-toggle><a id=theme-toggle accesskey=t><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></a></span><div class="theme theme-mobile" data-ani=true><div class=dropdown><button class="dropdown-trigger navbar__slide-down" aria-label="Select Theme Button" style=position:absolute;top:0 data-ani=true><svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 24 24"><path fill="none" d="M24 0H0v24h24V0z"/><path fill="currentcolor" d="M6.34 7.93c-3.12 3.12-3.12 8.19.0 11.31C7.9 20.8 9.95 21.58 12 21.58s4.1-.78 5.66-2.34c3.12-3.12 3.12-8.19.0-11.31l-4.95-4.95c-.39-.39-1.02-.39-1.41.0L6.34 7.93zM12 19.59c-1.6.0-3.11-.62-4.24-1.76C6.62 16.69 6 15.19 6 13.59s.62-3.11 1.76-4.24L12 5.1v14.49z"/></svg></button><div class="dropdown-content select-theme"></div></div></div></span></div><ul class=menu id=menu onscroll=menu_on_scroll()><li><a href=https://polarhardboiled.github.io/hugotest/contact/><span>CÃ©moi</span></a></li><li><a href=https://polarhardboiled.github.io/hugotest/news/><span>L'Actu</span></a></li><li><a href=https://polarhardboiled.github.io/hugotest/search/><span>Recherche</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><h1 class=post-title>(Hu)go Template Primer</h1><div class=post-meta>2 April 2014</div></header><div class=post-content><p>Hugo uses the excellent <a href=https://golang.org/>Go</a> <a href=https://golang.org/pkg/html/template/>html/template</a> library for<br>its template engine. It is an extremely lightweight engine that provides a very<br>small amount of logic. In our experience that it is just the right amount of<br>logic to be able to create a good static website. If you have used other<br>template systems from different languages or frameworks you will find a lot of<br>similarities in Go templates.</p><p>This document is a brief primer on using Go templates. The <a href=https://golang.org/pkg/html/template/>Go docs</a><br>provide more details.</p><h2 id=introduction-to-go-templates>Introduction to Go Templates<a hidden class=anchor aria-hidden=true href=#introduction-to-go-templates>#</a></h2><p>Go templates provide an extremely simple template language. It adheres to the<br>belief that only the most basic of logic belongs in the template or view layer.<br>One consequence of this simplicity is that Go templates parse very quickly.</p><p>A unique characteristic of Go templates is they are content aware. Variables and<br>content will be sanitized depending on the context of where they are used. More<br>details can be found in the <a href=https://golang.org/pkg/html/template/>Go docs</a>.</p><h2 id=basic-syntax>Basic Syntax<a hidden class=anchor aria-hidden=true href=#basic-syntax>#</a></h2><p>Golang templates are HTML files with the addition of variables and<br>functions.</p><p><strong>Go variables and functions are accessible within {{ }}</strong></p><p>Accessing a predefined variable &ldquo;foo&rdquo;:</p><pre><code>{{ foo }}
</code></pre><p><strong>Parameters are separated using spaces</strong></p><p>Calling the add function with input of 1, 2:</p><pre><code>{{ add 1 2 }}
</code></pre><p><strong>Methods and fields are accessed via dot notation</strong></p><p>Accessing the Page Parameter &ldquo;bar&rdquo;</p><pre><code>{{ .Params.bar }}
</code></pre><p><strong>Parentheses can be used to group items together</strong></p><pre><code>{{ if or (isset .Params &quot;alt&quot;) (isset .Params &quot;caption&quot;) }} Caption {{ end }}
</code></pre><h2 id=variables>Variables<a hidden class=anchor aria-hidden=true href=#variables>#</a></h2><p>Each Go template has a struct (object) made available to it. In hugo each<br>template is passed either a page or a node struct depending on which type of<br>page you are rendering. More details are available on the<br><a href=/layout/variables>variables</a> page.</p><p>A variable is accessed by referencing the variable name.</p><pre><code>&lt;title&gt;{{ .Title }}&lt;/title&gt;
</code></pre><p>Variables can also be defined and referenced.</p><pre><code>{{ $address := &quot;123 Main St.&quot;}}
{{ $address }}
</code></pre><h2 id=functions>Functions<a hidden class=anchor aria-hidden=true href=#functions>#</a></h2><p>Go template ship with a few functions which provide basic functionality. The Go<br>template system also provides a mechanism for applications to extend the<br>available functions with their own. <a href=/layout/functions>Hugo template<br>functions</a> provide some additional functionality we believe<br>are useful for building websites. Functions are called by using their name<br>followed by the required parameters separated by spaces. Template<br>functions cannot be added without recompiling hugo.</p><p><strong>Example:</strong></p><pre><code>{{ add 1 2 }}
</code></pre><h2 id=includes>Includes<a hidden class=anchor aria-hidden=true href=#includes>#</a></h2><p>When including another template you will pass to it the data it will be<br>able to access. To pass along the current context please remember to<br>include a trailing dot. The templates location will always be starting at<br>the /layout/ directory within Hugo.</p><p><strong>Example:</strong></p><pre><code>{{ template &quot;chrome/header.html&quot; . }}
</code></pre><h2 id=logic>Logic<a hidden class=anchor aria-hidden=true href=#logic>#</a></h2><p>Go templates provide the most basic iteration and conditional logic.</p><h3 id=iteration>Iteration<a hidden class=anchor aria-hidden=true href=#iteration>#</a></h3><p>Just like in Go, the Go templates make heavy use of range to iterate over<br>a map, array or slice. The following are different examples of how to use<br>range.</p><p><strong>Example 1: Using Context</strong></p><pre><code>{{ range array }}
    {{ . }}
{{ end }}
</code></pre><p><strong>Example 2: Declaring value variable name</strong></p><pre><code>{{range $element := array}}
    {{ $element }}
{{ end }}
</code></pre><p><strong>Example 2: Declaring key and value variable name</strong></p><pre><code>{{range $index, $element := array}}
    {{ $index }}
    {{ $element }}
{{ end }}
</code></pre><h3 id=conditionals>Conditionals<a hidden class=anchor aria-hidden=true href=#conditionals>#</a></h3><p>If, else, with, or, & and provide the framework for handling conditional<br>logic in Go Templates. Like range, each statement is closed with <code>end</code>.</p><p>Go Templates treat the following values as false:</p><ul><li>false</li><li>0</li><li>any array, slice, map, or string of length zero</li></ul><p><strong>Example 1: If</strong></p><pre><code>{{ if isset .Params &quot;title&quot; }}&lt;h4&gt;{{ index .Params &quot;title&quot; }}&lt;/h4&gt;{{ end }}
</code></pre><p><strong>Example 2: If -> Else</strong></p><pre><code>{{ if isset .Params &quot;alt&quot; }}
    {{ index .Params &quot;alt&quot; }}
{{else}}
    {{ index .Params &quot;caption&quot; }}
{{ end }}
</code></pre><p><strong>Example 3: And & Or</strong></p><pre><code>{{ if and (or (isset .Params &quot;title&quot;) (isset .Params &quot;caption&quot;)) (isset .Params &quot;attr&quot;)}}
</code></pre><p><strong>Example 4: With</strong></p><p>An alternative way of writing &ldquo;if&rdquo; and then referencing the same value<br>is to use &ldquo;with&rdquo; instead. With rebinds the context <code>.</code> within its scope,<br>and skips the block if the variable is absent.</p><p>The first example above could be simplified as:</p><pre><code>{{ with .Params.title }}&lt;h4&gt;{{ . }}&lt;/h4&gt;{{ end }}
</code></pre><p><strong>Example 5: If -> Else If</strong></p><pre><code>{{ if isset .Params &quot;alt&quot; }}
    {{ index .Params &quot;alt&quot; }}
{{ else if isset .Params &quot;caption&quot; }}
    {{ index .Params &quot;caption&quot; }}
{{ end }}
</code></pre><h2 id=pipes>Pipes<a hidden class=anchor aria-hidden=true href=#pipes>#</a></h2><p>One of the most powerful components of Go templates is the ability to<br>stack actions one after another. This is done by using pipes. Borrowed<br>from unix pipes, the concept is simple, each pipeline&rsquo;s output becomes the<br>input of the following pipe.</p><p>Because of the very simple syntax of Go templates, the pipe is essential<br>to being able to chain together function calls. One limitation of the<br>pipes is that they only can work with a single value and that value<br>becomes the last parameter of the next pipeline.</p><p>A few simple examples should help convey how to use the pipe.</p><p><strong>Example 1 :</strong></p><pre><code>{{ if eq 1 1 }} Same {{ end }}
</code></pre><p>is the same as</p><pre><code>{{ eq 1 1 | if }} Same {{ end }}
</code></pre><p>It does look odd to place the if at the end, but it does provide a good<br>illustration of how to use the pipes.</p><p><strong>Example 2 :</strong></p><pre><code>{{ index .Params &quot;disqus_url&quot; | html }}
</code></pre><p>Access the page parameter called &ldquo;disqus_url&rdquo; and escape the HTML.</p><p><strong>Example 3 :</strong></p><pre><code>{{ if or (or (isset .Params &quot;title&quot;) (isset .Params &quot;caption&quot;)) (isset .Params &quot;attr&quot;)}}
Stuff Here
{{ end }}
</code></pre><p>Could be rewritten as</p><pre><code>{{  isset .Params &quot;caption&quot; | or isset .Params &quot;title&quot; | or isset .Params &quot;attr&quot; | if }}
Stuff Here
{{ end }}
</code></pre><h2 id=context-aka-the-dot>Context (aka. the dot)<a hidden class=anchor aria-hidden=true href=#context-aka-the-dot>#</a></h2><p>The most easily overlooked concept to understand about Go templates is that {{ . }}<br>always refers to the current context. In the top level of your template this<br>will be the data set made available to it. Inside of a iteration it will have<br>the value of the current item. When inside of a loop the context has changed. .<br>will no longer refer to the data available to the entire page. If you need to<br>access this from within the loop you will likely want to set it to a variable<br>instead of depending on the context.</p><p><strong>Example:</strong></p><pre><code>  {{ $title := .Site.Title }}
  {{ range .Params.tags }}
    &lt;li&gt; &lt;a href=&quot;{{ $baseurl }}/tags/{{ . | urlize }}&quot;&gt;{{ . }}&lt;/a&gt; - {{ $title }} &lt;/li&gt;
  {{ end }}
</code></pre><p>Notice how once we have entered the loop the value of {{ . }} has changed. We<br>have defined a variable outside of the loop so we have access to it from within<br>the loop.</p><h1 id=hugo-parameters>Hugo Parameters<a hidden class=anchor aria-hidden=true href=#hugo-parameters>#</a></h1><p>Hugo provides the option of passing values to the template language<br>through the site configuration (for sitewide values), or through the meta<br>data of each specific piece of content. You can define any values of any<br>type (supported by your front matter/config format) and use them however<br>you want to inside of your templates.</p><h2 id=using-content-page-parameters>Using Content (page) Parameters<a hidden class=anchor aria-hidden=true href=#using-content-page-parameters>#</a></h2><p>In each piece of content you can provide variables to be used by the<br>templates. This happens in the <a href=/content/front-matter>front matter</a>.</p><p>An example of this is used in this documentation site. Most of the pages<br>benefit from having the table of contents provided. Sometimes the TOC just<br>doesn&rsquo;t make a lot of sense. We&rsquo;ve defined a variable in our front matter<br>of some pages to turn off the TOC from being displayed.</p><p>Here is the example front matter:</p><pre><code>---
title: &quot;Permalinks&quot;
date: &quot;2013-11-18&quot;
aliases:
  - &quot;/doc/permalinks/&quot;
groups: [&quot;extras&quot;]
groups_weight: 30
notoc: true
---
</code></pre><p>Here is the corresponding code inside of the template:</p><pre><code>  {{ if not .Params.notoc }}
    &lt;div id=&quot;toc&quot; class=&quot;well col-md-4 col-sm-6&quot;&gt;
    {{ .TableOfContents }}
    &lt;/div&gt;
  {{ end }}
</code></pre><h2 id=using-site-config-parameters>Using Site (config) Parameters<a hidden class=anchor aria-hidden=true href=#using-site-config-parameters>#</a></h2><p>In your top-level configuration file (eg, <code>config.yaml</code>) you can define site<br>parameters, which are values which will be available to you in chrome.</p><p>For instance, you might declare:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre class=chroma><code class=language-yaml data-lang=yaml><span class=nt>params</span><span class=p>:</span><span class=w>
</span><span class=w>  </span><span class=nt>CopyrightHTML</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;Copyright &amp;#xA9; 2013 John Doe. All Rights Reserved.&#34;</span><span class=w>
</span><span class=w>  </span><span class=nt>TwitterUser</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;spf13&#34;</span><span class=w>
</span><span class=w>  </span><span class=nt>SidebarRecentLimit</span><span class=p>:</span><span class=w> </span><span class=m>5</span><span class=w>
</span></code></pre></td></tr></table></div></div><p>Within a footer layout, you might then declare a <code>&lt;footer></code> which is only<br>provided if the <code>CopyrightHTML</code> parameter is provided, and if it is given,<br>you would declare it to be HTML-safe, so that the HTML entity is not escaped<br>again. This would let you easily update just your top-level config file each<br>January 1st, instead of hunting through your templates.</p><pre><code>{{if .Site.Params.CopyrightHTML}}&lt;footer&gt;
&lt;div class=&quot;text-center&quot;&gt;{{.Site.Params.CopyrightHTML | safeHtml}}&lt;/div&gt;
&lt;/footer&gt;{{end}}
</code></pre><p>An alternative way of writing the &ldquo;if&rdquo; and then referencing the same value<br>is to use &ldquo;with&rdquo; instead. With rebinds the context <code>.</code> within its scope,<br>and skips the block if the variable is absent:</p><pre><code>{{with .Site.Params.TwitterUser}}&lt;span class=&quot;twitter&quot;&gt;
&lt;a href=&quot;https://twitter.com/{{.}}&quot; rel=&quot;author&quot;&gt;
&lt;img src=&quot;/images/twitter.png&quot; width=&quot;48&quot; height=&quot;48&quot; title=&quot;Twitter: {{.}}&quot;
alt=&quot;Twitter&quot;&gt;&lt;/a&gt;
&lt;/span&gt;{{end}}
</code></pre><p>Finally, if you want to pull &ldquo;magic constants&rdquo; out of your layouts, you can do<br>so, such as in this example:</p><pre><code>&lt;nav class=&quot;recent&quot;&gt;
  &lt;h1&gt;Recent Posts&lt;/h1&gt;
  &lt;ul&gt;{{range first .Site.Params.SidebarRecentLimit .Site.Recent}}
    &lt;li&gt;&lt;a href=&quot;{{.RelPermalink}}&quot;&gt;{{.Title}}&lt;/a&gt;&lt;/li&gt;
  {{end}}&lt;/ul&gt;
&lt;/nav&gt;
</code></pre></div><footer class=post-footer><ul class=post-tags><li><a href=https://polarhardboiled.github.io/hugotest/tags/go>go</a></li><li><a href=https://polarhardboiled.github.io/hugotest/tags/golang>golang</a></li><li><a href=https://polarhardboiled.github.io/hugotest/tags/templates>templates</a></li><li><a href=https://polarhardboiled.github.io/hugotest/tags/themes>themes</a></li><li><a href=https://polarhardboiled.github.io/hugotest/tags/development>development</a></li></ul></footer></article></main><footer class=footer><span>&copy; 2020 <a href=https://polarhardboiled.github.io/hugotest>Hugo Test</a></span>
<span>&#183;</span>
<span>Powered by <a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a></span>
<span>&#183;</span>
<span>Theme <a href=https://git.io/hugopapermod rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top" accesskey=g><button class=top-link id=top-link type=button><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6"><path d="M12 6H0l6-6z"/></svg></button></a>
<script defer src=https://polarhardboiled.github.io/hugotest/assets/js/highlight.min.27cd435cc9ed6abb4b496581b151804f79f366c412620272bb94e2f5f598ebcc.js integrity="sha256-J81DXMntartLSWWBsVGAT3nzZsQSYgJyu5Ti9fWY68w=" onload=hljs.initHighlightingOnLoad();></script><script>window.onload=function(){if(localStorage.getItem("menu-scroll-position")){document.getElementById('menu').scrollLeft=localStorage.getItem("menu-scroll-position");}}
document.querySelectorAll('a[href^="#"]').forEach(anchor=>{anchor.addEventListener("click",function(e){e.preventDefault();var id=this.getAttribute("href").substr(1);document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({behavior:"smooth"});});});var mybutton=document.getElementById("top-link");window.onscroll=function(){if(document.body.scrollTop>800||document.documentElement.scrollTop>800){mybutton.style.visibility="visible";mybutton.style.opacity="1";}else{mybutton.style.visibility="hidden";mybutton.style.opacity="0";}};function menu_on_scroll(){localStorage.setItem("menu-scroll-position",document.getElementById('menu').scrollLeft);}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{if(document.body.className.includes("dark")){document.body.classList.remove('dark');localStorage.setItem("pref-theme",'light');}else{document.body.classList.add('dark');localStorage.setItem("pref-theme",'dark');}})</script></body></html>